<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
        <link rel="stylesheet" href="css/style.css">
        <link rel="stylesheet" href="css/create.css">
        <title>Ekko Timer - Create Assignment</title>
        <script src="https://www.gstatic.com/firebasejs/4.1.1/firebase.js"></script>
        <script src="js/jquery-3.2.1.min.js"></script>
        <script src="js/firebase.js"></script>
    </head>
    <body style="background-color:#FBD86E"> <!-- style in the tag to the left sets the background color -->
        <!-- Navigation -->
        <div class="nav-bar">
            <button class="nav-bar-btn" onclick="changetoIndex()">Back</button>
            <img src="img/logo_.png" class="logo center" alt="logo">
        </div>
        <!-- end navigation -->
        <div>
            <!-- create a new assignment form -->
            <h2 class="text-cen">Create New Assignment</h2>
            <form id='create-form'>
                Title:
                <input id="title" class="create-input" type="text" placeholder="Please Enter Title" required><br> <!-- class="create-input" is a style. Check the create.css file -->
                Due Date:
                <input id="due-date" class="create-input" type="date" placeholder="Please Enter Due Date" required><br>
                Subject:
                <input id="subject" class="create-input" type="text" placeholder="Please Enter Subject" required><br>
                Information:<br>
                <textarea id="information" rows="4" cols="50" required></textarea><br>
                Priority:
                <select id="priority" required>
                    <option value="1">Level 1</option>
                    <option value="2">Level 2</option>
                    <option value="3">Level 3</option>
                </select><br>
                Time Needed:
                <input id="time-needed" class="create-input" type="text" placeholder="Please Enter Time Needed" required><br>
                <input type="button" value="Submit" onclick="assignments()"> <!-- submit button is to the left -->
            </form>
        </div>
    </body>
    <script>
        $('.nav-bar-btn').css("background-color", "#FBD86E"); //sets the back button's background color
        var title = "",date = "", subject = "", information = "", priority = "", time_needed=""; //instantiate the variables
        //below is the post function. This function mainly takes the information from the inputs or text boxes and pass it to the
        //createAssignment() function in the firebase.js file. Refer to the comments in the firebase.js file for more information
        //on the createAssignment() function.
        function assignments(){
            title = document.getElementById('title').value;
            date  = document.getElementById('due-date').value;
            subject =  document.getElementById('subject').value;
            information = document.getElementById('information').value;
            priority = document.getElementById('priority').value;
            time_needed = document.getElementById('time-needed').value;
            createAssignment(title, date, subject, information, priority, time_needed);
            //this function below helps redirect the user to the home page after creating the assignment
            //it is delayed by 1000 miliseconds or 1 second to ensure creation of assignment
            setTimeout(function(){window.location.href = "index.html"}, 1000);
        }
    </script>
</html>
